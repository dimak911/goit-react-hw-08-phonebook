"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[310],{3310:function(n,e,t){t.r(e),t.d(e,{default:function(){return gn}});var i,r=t(2007),o=t.n(r),s=t(6088),a=t(407),d=(0,s.Z)("div")(a.$_,a.Dh,a.bK,a.GQ,a.eC,a.Oq,a.Cg,a.FK),l=t(168),c=s.Z.h2(i||(i=(0,l.Z)(["\n  font-size: ",";\n  margin-bottom: ","px;\n"])),(function(n){return n.theme.fontSizes.l}),(function(n){return n.theme.space[4]})),u=t(184),p=function(n){var e=n.title,t=n.children;return(0,u.jsxs)(d,{as:"section",p:4,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",children:[(0,u.jsx)(c,{children:e}),t]})};p.propType={title:o().string.isRequired,children:o().object};var m,h,x,f,g,b,v,j,Z,y,w,k,C,S=t(1413),A=t(885),q=t(2791),z=t(4259),E=t(8584),F=t(5985),L=t(1523),M=t(7205),T=s.Z.form(m||(m=(0,l.Z)(["\n  position: relative;\n  border: 1px solid black;\n  width: 400px;\n  padding: ","px;\n"])),(function(n){return n.theme.space[4]})),I=s.Z.label(h||(h=(0,l.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: ","px;\n  margin-bottom: ","px;\n"])),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[4]})),N=s.Z.p(x||(x=(0,l.Z)(["\n  color: red;\n"]))),R=s.Z.div(f||(f=(0,l.Z)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  background-color: #808080e3;\n"]))),B=function(){var n,e,t,i,r=(0,E.wY)().data,o=(0,E.Lr)(),s=(0,A.Z)(o,2),a=s[0],d=s[1],l=d.isLoading,c=d.isSuccess,p=d.isError,m=(0,z.cI)({defaultValues:{name:"",number:""}}),h=m.register,x=m.handleSubmit,f=m.watch,g=m.formState.errors,b=m.resetField,v=f("name"),j=f("number"),Z=function(n){return r.find((function(e){return e.name===n}))};return(0,q.useEffect)((function(){c&&F.Am.success("Contact added"),p&&F.Am.error("Oops!! Something went wrong!")}),[c,p]),(0,u.jsxs)(T,{onSubmit:x((function(){!function(n){Z(n.name)?F.Am.warn("".concat(n.name," is already in contacts.")):(a(n),b("name"),b("number"))}({name:v,number:j})})),autoComplete:"off",children:[l&&(0,u.jsx)(R,{children:(0,u.jsx)(L.Bb,{color:"#61dafb"})}),(0,u.jsxs)(I,{children:[(0,u.jsx)("span",{children:"Name"}),(0,u.jsx)("input",(0,S.Z)({placeholder:"John",value:v,type:"text"},h("name",{required:{value:!0,message:"This field is required"},pattern:{value:/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/g,message:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"}}))),(null===(n=g.name)||void 0===n?void 0:n.message)&&(0,u.jsx)(N,{children:null===(e=g.name)||void 0===e?void 0:e.message})]}),(0,u.jsxs)(I,{children:[(0,u.jsx)("span",{children:"Number"}),(0,u.jsx)("input",(0,S.Z)((0,S.Z)({placeholder:"1234567890",value:j},h("number",{required:{value:!0,message:"This field is required"},pattern:{value:/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/g,message:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"}})),{},{type:"tel"})),(null===(t=g.number)||void 0===t?void 0:t.message)&&(0,u.jsx)(N,{children:null===(i=g.number)||void 0===i?void 0:i.message})]}),(0,u.jsx)(M.Z,{type:"submit",variant:"contained",children:"Add contact"})]})},_=t(5048),J=t(4494),O=t(4164),P=s.Z.div(g||(g=(0,l.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n"]))),V=s.Z.div(b||(b=(0,l.Z)(["\n  max-width: calc(100vw - 48px);\n  max-height: calc(100vh - 24px);\n"]))),Y=document.querySelector("#modal-root"),G=function(n){var e=n.children,t=n.closeModal;(0,q.useEffect)((function(){var n=function(n){"Escape"===n.code&&t()};return window.addEventListener("keydown",n),function(){return window.removeEventListener("keydown",n)}}));return(0,O.createPortal)((0,u.jsx)(P,{onClick:function(n){n.currentTarget===n.target&&t()},children:(0,u.jsx)(V,{children:e})}),Y)},K=t(9135),W=s.Z.div(v||(v=(0,l.Z)(["\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  align-items: center;\n  width: 400px;\n  min-height: 300px;\n  gap: 40px;\n  padding: 20px;\n  border-radius: 10px;\n  background-color: gray;\n"]))),$=s.Z.form(j||(j=(0,l.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 20px;\n  width: 100%;\n"]))),D=s.Z.label(Z||(Z=(0,l.Z)(["\n  width: 100%;\n"]))),Q=s.Z.input(y||(y=(0,l.Z)(["\n  border: none;\n  padding: 5px 10px;\n  margin-bottom: 5px;\n  width: 100%;\n  height: 40px;\n  border-radius: 10px;\n"]))),H=s.Z.div(w||(w=(0,l.Z)(["\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: grey;\n  border-radius: 10px;\n"]))),U=s.Z.button(k||(k=(0,l.Z)(["\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  padding: 5px 10px;\n  border: none;\n  outline: 2px solid green;\n  border-radius: 10px;\n  height: 40px;\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  &:hover {\n    background-color: green;\n    color: white;\n  }\n"]))),X=(0,s.Z)(K.ZyS)(C||(C=(0,l.Z)(["\n  position: absolute;\n  top: 5%;\n  right: 5%;\n  width: 25px;\n  height: 25px;\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  &:hover {\n    color: red;\n  }\n"]))),nn=function(n){var e,t,i=n.id,r=n.closeModal,o=(0,E.jo)(i),s=o.data,a=o.isLoading,l=(0,E.i)(),c=(0,A.Z)(l,2),p=c[0],m=c[1],h=m.isLoading,x=m.isSuccess,f=m.isError,g=(0,z.cI)(),b=g.register,v=g.handleSubmit,j=g.formState.errors;return(0,q.useEffect)((function(){x&&(F.Am.success("Contact edited"),r()),f&&F.Am.error("Oops!! Something went wrong!")}),[r,f,x]),(0,u.jsxs)(W,{children:[(0,u.jsx)(X,{onClick:r}),a||h?(0,u.jsx)(H,{children:(0,u.jsx)(L.Bb,{})}):(0,u.jsxs)($,{onSubmit:v((function(n){p((0,S.Z)((0,S.Z)({},s),n))})),autoComplete:"off",children:[(0,u.jsx)("h2",{children:"Edit contact"}),(0,u.jsxs)(D,{children:[(0,u.jsx)(d,{mb:2,children:"Name"}),(0,u.jsx)(Q,(0,S.Z)({defaultValue:null===s||void 0===s?void 0:s.name},b("name",{required:{value:!0,message:"This field is required"},pattern:{value:/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/g,message:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"}}))),j.name&&(0,u.jsx)("div",{style:{color:"#cb0f0f"},children:null===(e=j.name)||void 0===e?void 0:e.message})]}),(0,u.jsxs)(D,{children:[(0,u.jsx)(d,{mb:2,children:"Number"}),(0,u.jsx)(Q,(0,S.Z)({defaultValue:null===s||void 0===s?void 0:s.number},b("number",{required:{value:!0,message:"This field is required"},pattern:{value:/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/g,message:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"}}))),j.number&&(0,u.jsx)("div",{style:{color:"#cb0f0f"},children:null===(t=j.name)||void 0===t?void 0:t.message})]}),(0,u.jsx)(U,{type:"submit",children:"Submit"})]})]})};nn.propType={id:o().string.isRequired,closeModal:o().func.isRequired};var en,tn,rn,on,sn=t(383),an=t(1286),dn=s.Z.li(en||(en=(0,l.Z)(["\n  display: flex;\n  align-items: center;\n"]))),ln=s.Z.button(tn||(tn=(0,l.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 8px 13px;\n  border: none;\n  border-radius: 10px;\n  cursor: pointer;\n  transition: background-color 0.2s ease-in-out;\n  &:hover:not([disabled]) {\n    background-color: #61dafb;\n  }\n"]))),cn=function(n){var e=n.id,t=n.name,i=n.number,r=n.openModal,o=(0,E.W1)(),s=(0,A.Z)(o,2),a=s[0],l=s[1],c=l.isSuccess,p=l.isLoading,m=l.isError;return(0,q.useEffect)((function(){c&&F.Am.success("Contact deleted"),m&&F.Am.error("Oops!! Something went wrong!")}),[c,m]),(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(d,{display:"flex",justifyContent:"space-between",gridGap:"10px",children:[(0,u.jsxs)(dn,{children:[t,": ",i]}),(0,u.jsxs)(d,{display:"flex",gridGap:"10px",children:[(0,u.jsx)(ln,{type:"button",onClick:function(){r(e)},children:(0,u.jsx)(an.Z,{fontSize:"small",style:{color:"blue"}})}),(0,u.jsx)(ln,{type:"button",onClick:function(){return a(e)},disabled:p,children:p?(0,u.jsx)(L.iT,{height:10,width:10,color:"red",visible:!0,ariaLabel:"oval-loading",secondaryColor:"red",strokeWidth:10,strokeWidthSecondary:10}):(0,u.jsx)(sn.Z,{fontSize:"small",style:{color:"red"}})})]})]})})};cn.propType={id:o().string.isRequired,name:o().string.isRequired,number:o().string.isRequired,openModal:o().func.isRequired};var un,pn=s.Z.ul(rn||(rn=(0,l.Z)(["\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  justify-content: center;\n  gap: 10px;\n  border: 1px solid black;\n  width: 400px;\n  min-height: 100px;\n  padding: ","px;\n"])),(function(n){return n.theme.space[4]})),mn=s.Z.div(on||(on=(0,l.Z)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  background-color: #808080e3;\n"]))),hn=function(){var n=(0,q.useState)(!1),e=(0,A.Z)(n,2),t=e[0],i=e[1],r=(0,q.useState)(null),o=(0,A.Z)(r,2),s=o[0],a=o[1],d=(0,E.wY)(),l=d.data,c=d.isFetching,p=(0,_.v9)(J.YI),m=null===l||void 0===l?void 0:l.filter((function(n){return n.name.toLowerCase().includes(p)})),h=function(n){i(!0),a(n),window.document.body.style.overflow="hidden"},x=function(){i(!1),window.document.body.style.overflow="unset"};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(pn,{children:[c&&(0,u.jsx)(mn,{children:(0,u.jsx)(L.Bb,{width:"70",height:"70",color:"#61dafb",radius:"9",ariaLabel:"loading"})}),null!==m&&void 0!==m&&m.length?m.map((function(n){var e=n.id,t=n.name,i=n.number;return(0,u.jsx)(cn,{id:e,name:t,number:i,openModal:h},e)})):(0,u.jsx)("li",{children:"No contacts"})]}),t&&(0,u.jsx)(G,{closeModal:x,children:(0,u.jsx)(nn,{id:s,closeModal:x})})]})},xn=s.Z.label(un||(un=(0,l.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: ","px;\n  margin-bottom: ","px;\n  width: 400px;\n"])),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[4]})),fn=function(){var n=(0,z.cI)().control,e=(0,_.v9)(J.YI),t=(0,_.I0)(),i=function(n){t((0,J.KJ)(n.target.value))};return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("form",{children:(0,u.jsxs)(xn,{children:[(0,u.jsx)("span",{children:"Find contacts by name"}),(0,u.jsx)(z.Qr,{render:function(n){var t=n.field;return(0,u.jsx)("input",(0,S.Z)((0,S.Z)({},t),{},{onChange:i,value:e}))},name:"filter",control:n,defaultValue:""})]})})})},gn=function(){return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(p,{title:"Phonebook",children:(0,u.jsx)(B,{})}),(0,u.jsxs)(p,{title:"Contacts",children:[(0,u.jsx)(fn,{}),(0,u.jsx)(hn,{})]})]})}}}]);
//# sourceMappingURL=310.be112f73.chunk.js.map